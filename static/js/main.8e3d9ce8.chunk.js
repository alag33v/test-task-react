(this["webpackJsonptest-task-react"]=this["webpackJsonptest-task-react"]||[]).push([[0],{33:function(n,e,t){"use strict";t.r(e);var c=t(0),s=t(1),r=t.n(s),a=t(18),o=t.n(a),i=t(8),l=t.p+"static/media/logo.1da79cb6.PNG",b=t(3),u=t(4);function d(){var n=Object(b.a)(["\n  text-align: center;\n  img {\n    display: inline-block;\n    margin: 30px auto;\n    cursor: pointer;\n  }\n"]);return d=function(){return n},n}var j=u.b.div(d()),h=function(){return Object(c.jsx)(j,{children:Object(c.jsx)("img",{src:l,alt:"logo"})})},p=t(17),x=t.p+"static/media/check.09eaa8c6.svg";function f(){var n=Object(b.a)(["\n  width: 25%;\n  padding: 15px;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n  border-radius: 0.25rem;\n  max-height: 334px;\n  h4 {\n    font-size: 16px;\n    text-transform: uppercase;\n    margin: 10px 0 22px;\n  }\n  label {\n    display: block;\n    margin-bottom: 22px;\n    padding-left: 35px;\n    cursor: pointer;\n  }\n  strong {\n    font-weight: 400;\n  }\n  a {\n    text-decoration: none;\n    color: #212529;\n  }\n  .checkbox {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    overflow: hidden;\n    clip: rect(0 0 0 0);\n    padding-left: 20px;\n  }\n  .check-style {\n    width: 22px;\n    height: 22px;\n    border: 1px solid #bcd2de;\n    border-radius: 2px;\n    position: absolute;\n    margin-left: -35px;\n  }\n  .checkbox:checked + .check-style {\n    border: 1px solid #39a1f4;\n  }\n  .checkbox:checked + .check-style::before {\n    content: '';\n    width: 14px;\n    height: 14px;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background: url(",");\n    background-size: contain;\n    background-repeat: no-repeat;\n    background-position: center;\n    position: absolute;\n  }\n  @media (max-width: 767px) {\n    width: 100%;\n    margin-bottom: 20px;\n  }\n  @media (max-width: 600px) {\n    width: 95%;\n    max-width: 100%;\n    margin: 0 auto 20px;\n  }\n"]);return f=function(){return n},n}var g=u.b.div(f(),x),m=function(n){var e=n.filter,t=n.setFilter,s=function(n){var c=Object(p.a)({},e);c[n]=!c[n],"all"===n?c=Object.fromEntries(Object.keys(c).map((function(e){return[e,c[n]]}))):(Object.keys(c).some((function(n){return!1===c[n]}))&&(c.all=!1),Object.keys(c).every((function(n){return"all"===n||!0===c[n]}))&&(c.all=!0)),t(Object(p.a)({},c))};return Object(c.jsxs)(g,{children:[Object(c.jsx)("h4",{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"}),Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{className:"checkbox",type:"checkbox",onChange:function(){return s("all")},checked:e.all}),Object(c.jsx)("span",{className:"check-style"}),Object(c.jsx)("strong",{children:"\u0412\u0441\u0435"})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{className:"checkbox",type:"checkbox",onChange:function(){return s("without")},checked:e.without}),Object(c.jsx)("span",{className:"check-style"}),Object(c.jsx)("strong",{children:"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{className:"checkbox",type:"checkbox",onChange:function(){return s("one")},checked:e.one}),Object(c.jsx)("span",{className:"check-style"}),Object(c.jsx)("strong",{children:"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430"})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{className:"checkbox",type:"checkbox",onChange:function(){return s("two")},checked:e.two}),Object(c.jsx)("span",{className:"check-style"}),Object(c.jsx)("strong",{children:"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{className:"checkbox",type:"checkbox",onChange:function(){return s("three")},checked:e.three}),Object(c.jsx)("span",{className:"check-style"}),Object(c.jsx)("strong",{children:"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"})]})]})},O=t(15),k=t.n(O),w=t(9),v=t(22);function y(){var n=Object(b.a)(["\n  width: 73%;\n  margin-left: 2%;\n  @media (max-width: 767px) {\n    width: 100%;\n    margin-left: 0;\n  }\n  @media (max-width: 600px) {\n    width: 95%;\n    max-width: 100%;\n    margin: 0 auto;\n  }\n"]);return y=function(){return n},n}var N=u.b.div(y()),C=function(n){var e=n.filter,t=Object(s.useState)(),r=Object(i.a)(t,2),a=r[0],o=r[1],l=Object(s.useState)([]),b=Object(i.a)(l,2),u=b[0],d=b[1],j=Object(s.useState)(!1),h=Object(i.a)(j,2),p=h[0],x=h[1],f=Object(s.useState)([]),g=Object(i.a)(f,2),m=g[0],O=g[1],y=Object(s.useState)({lowprice:!0,faster:!1}),C=Object(i.a)(y,2),T=C[0],S=C[1],U=Object(s.useCallback)((function(n){return T.lowprice?n.sort((function(n,e){return n.price-e.price})):T.faster?n.sort((function(n,e){return n.segments[0].duration+n.segments[1].duration-(e.segments[0].duration+e.segments[1].duration)})):n}),[T]),F=Object(s.useCallback)((function(n){return Object.keys(e).every((function(n){return!1===e[n]}))?n:n.filter((function(n){return e.all?n:!(!e.without||0!==n.segments[0].stops.length||0!==n.segments[1].stops.length)||(!(!e.one||1!==n.segments[0].stops.length||1!==n.segments[1].stops.length)||(!(!e.two||2!==n.segments[0].stops.length||2!==n.segments[1].stops.length)||!(!e.three||3!==n.segments[0].stops.length||3!==n.segments[1].stops.length)))}))}),[e]);return Object(s.useEffect)((function(){!0===p&&O(U(F(u)).slice(0,5))}),[p,u,T,U,F]),Object(s.useEffect)((function(){fetch("https://front-test.beta.aviasales.ru/search").then((function(n){return n.json()})).then((function(n){return o(n.searchId)})).catch((function(n){return console.log(n)}))}),[]),Object(s.useEffect)((function(){if(a&&!1===p){var n=function(){var e=Object(v.a)(k.a.mark((function e(){var t,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://front-test.beta.aviasales.ru/tickets?searchId=".concat(a));case 2:if(500!==(t=e.sent).status){e.next=8;break}return e.next=6,n();case 6:e.next=24;break;case 8:if(404!==t.status){e.next=11;break}e.next=24;break;case 11:if(200===t.status){e.next=19;break}return console.error(t.statusText),e.next=15,new Promise((function(n){return setTimeout(n,1e3)}));case 15:return e.next=17,n();case 17:e.next=24;break;case 19:return e.next=21,t.json();case 21:(c=e.sent).stop&&x(!0),d([].concat(Object(w.a)(u),Object(w.a)(c.tickets)));case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n()}}),[a,u,p]),Object(c.jsxs)(N,{children:[Object(c.jsx)(A,{sorterActive:T,setSorterActive:S}),m.map((function(n,e){return Object(c.jsx)(D,{ticket:n},e)}))]})},T=t(36);function S(){var n=Object(b.a)(["\n  width: 100%;\n  background-color: #fff;\n  .card {\n    width: 100%;\n    margin: 20px 0;\n    padding: 0 10px;\n  }\n  .card-body {\n    padding-bottom: 10px;\n  }\n  .card-title {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  .cost {\n    font-size: 30px;\n    color: #2196f3;\n  }\n  img {\n    display: block;\n    max-width: 100%;\n    object-fit: cover;\n  }\n  .wrapper {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: space-between;\n  }\n  .ticket-info {\n    display: flex;\n    justify-content: space-between;\n    margin: 15px 0;\n    &__last {\n      width: 110px;\n    }\n  }\n  .up {\n    color: #aebcc3;\n  }\n  .bottom {\n    color: #707070;\n  }\n  span {\n    display: block;\n  }\n  @media (max-width: 500px) {\n    .card-body {\n      padding: 10px 0;\n    }\n    .cost {\n      font-size: 26px;\n    }\n  }\n  @media (max-width: 400px) {\n    .cost {\n      font-size: 26px;\n    }\n    .ticket-info {\n      font-size: 14px;\n    }\n  }\n"]);return S=function(){return n},n}var U=u.b.div(S()),F=function(n){var e=n/60,t=Math.floor(e),c=60*(e-(t=t>9?t:"0".concat(t))),s=Math.round(c);return s=s>9?s:"0".concat(s),"".concat(t,"\u0447 ").concat(s,"\u043c")},z=function(n,e){var t=new Date(n);t.setTime(t.getTime()+108e5);var c=t.getTime()+6e4*e,s=t.getUTCHours()>9?t.getUTCHours():"0".concat(t.getUTCHours()),r=t.getUTCMinutes()>9?t.getUTCMinutes():"0".concat(t.getUTCMinutes()),a="".concat(s,":").concat(r),o=new Date(c).getUTCHours()>9?new Date(c).getUTCHours():"0".concat(new Date(c).getUTCHours()),i=new Date(c).getUTCMinutes()>9?new Date(c).getUTCMinutes():"0".concat(new Date(c).getUTCMinutes()),l="".concat(o,":").concat(i);return"".concat(a," \u2013 ").concat(l)},M=function(n){return 0===n.length?"0 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a":1===n.length?"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430":"".concat(n.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")},D=function(n){var e,t=n.ticket;return Object(c.jsx)(U,{children:Object(c.jsx)(T.a,{children:Object(c.jsxs)(T.a.Body,{children:[Object(c.jsxs)("div",{className:"card-title",children:[Object(c.jsx)("strong",{className:"cost",children:(e=t.price,"".concat(e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")," \u20bd"))}),Object(c.jsx)("img",{src:"//pics.avs.io/99/36/".concat(t.carrier,".png"),alt:""})]}),Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsxs)("div",{className:"ticket-info",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{className:"up",children:"".concat(t.segments[0].origin," - ").concat(t.segments[0].destination)}),Object(c.jsx)("span",{className:"bottom",children:z(t.segments[0].date,t.segments[0].duration)})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{className:"up",children:"\u0412 \u043f\u0443\u0442\u0438"}),Object(c.jsx)("span",{className:"bottom",children:F(t.segments[0].duration)})]}),Object(c.jsxs)("div",{className:"ticket-info__last",children:[Object(c.jsx)("span",{className:"up",children:M(t.segments[0].stops)}),Object(c.jsx)("span",{className:"bottom",children:Object(w.a)(t.segments[0].stops).join(", ")})]})]}),Object(c.jsxs)("div",{className:"ticket-info",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{className:"up",children:"".concat(t.segments[1].origin," - ").concat(t.segments[1].destination)}),Object(c.jsx)("span",{className:"bottom",children:z(t.segments[1].date,t.segments[1].duration)})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{className:"up",children:"\u0412 \u043f\u0443\u0442\u0438"}),Object(c.jsx)("span",{className:"bottom",children:F(t.segments[1].duration)})]}),Object(c.jsxs)("div",{className:"ticket-info__last",children:[Object(c.jsx)("span",{className:"up",children:M(t.segments[1].stops)}),Object(c.jsx)("span",{className:"bottom",children:Object(w.a)(t.segments[1].stops).join(", ")})]})]})]})]})})})};function H(){var n=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  button {\n    width: 50%;\n    height: 60px;\n  }\n  .button {\n    font-size: 1rem;\n    font-weight: 400;\n    line-height: 1.5;\n    text-align: center;\n    color: #000;\n    background-color: rgb(255, 255, 255);\n    border: 1px solid rgba(0, 0, 0, 0.125);\n    border-radius: 0.25rem;\n    display: inline-block;\n    padding: 0.375rem 0.75rem;\n    transition: 0.3s linear;\n    outline: none;\n    &:hover {\n      background-color: rgb(228, 228, 228);\n    }\n    &:active {\n      background-color: rgb(207, 207, 207);\n    }\n  }\n  .btn-light {\n    border: 1px solid rgba(0, 0, 0, 0.125);\n  }\n  .lowprice,\n  .faster {\n    color: #fff;\n    background-color: #007bff;\n    &:hover {\n      background-color: #025bc2;\n    }\n    &:active {\n      background-color: #004aa0;\n    }\n  }\n"]);return H=function(){return n},n}var _=u.b.div(H()),A=function(n){var e=n.sorterActive,t=n.setSorterActive,r=Object(s.useCallback)((function(n){e[n]||t({lowprice:!e.lowprice,faster:!e.faster})}),[e,t]);return Object(c.jsxs)(_,{children:[Object(c.jsx)("button",{className:"button ".concat(e.lowprice?"lowprice":""),onClick:function(){return r("lowprice")},children:"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439"}),Object(c.jsx)("button",{className:"button ".concat(e.faster?"faster":""),onClick:function(){return r("faster")},children:"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439"})]})},E=(t(32),t(34)),B=t(35),I=function(){var n=Object(s.useState)({all:!0,without:!0,one:!0,two:!0,three:!0}),e=Object(i.a)(n,2),t=e[0],r=e[1];return Object(c.jsxs)(E.a,{children:[Object(c.jsx)(h,{}),Object(c.jsxs)(B.a,{children:[Object(c.jsx)(m,{filter:t,setFilter:r}),Object(c.jsx)(C,{filter:t,setFilter:r})]})]})};function P(){var n=Object(b.a)(["\n@import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap');\n\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: 'Open Sans', sans-serif;\n  font-size: 16px;\n  line-height: 1.5;\n  margin-top: 25px;\n  background-color: #F3F7FA;\n  min-height: 100vh;\n}\n\n@media (max-width: 767px) {\n  .row {\n    flex-direction: column;\n  }\n}\n"]);return P=function(){return n},n}var J=Object(u.a)(P()),L=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,37)).then((function(e){var t=e.getCLS,c=e.getFID,s=e.getFCP,r=e.getLCP,a=e.getTTFB;t(n),c(n),s(n),r(n),a(n)}))};o.a.render(Object(c.jsxs)(r.a.StrictMode,{children:[Object(c.jsx)(J,{}),Object(c.jsx)(I,{})]}),document.getElementById("root")),L()}},[[33,1,2]]]);
//# sourceMappingURL=main.8e3d9ce8.chunk.js.map